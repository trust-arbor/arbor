{"expected":"digraph mcp_builder {\n  start [label=\"start\" type=\"start\"]\n\n  // Phase 1: Research\n  study_mcp_docs [label=\"Study MCP Docs\" type=\"llm\"\n    prompt=\"Read the MCP specification and understand transport, tools, resources.\"]\n  study_framework [label=\"Study Framework\" type=\"llm\"\n    prompt=\"Load TypeScript or Python SDK docs based on chosen language.\"]\n  plan_impl [label=\"Plan Implementation\" type=\"llm\"\n    prompt=\"Review API docs, identify endpoints, plan tool list.\"]\n\n  // Phase 2: Implementation\n  setup_project [label=\"Setup Project\" type=\"codergen\"\n    prompt=\"Create project structure: package.json, tsconfig, src/\"]\n  impl_infra [label=\"Implement Infrastructure\" type=\"codergen\"\n    prompt=\"Create API client, error handling, pagination helpers.\"]\n  impl_tools [label=\"Implement Tools\" type=\"codergen\"\n    prompt=\"Implement each MCP tool with Zod schemas, handlers, annotations.\"]\n\n  // Phase 3: Review & Test\n  code_review [label=\"Code Review\" type=\"llm\"\n    prompt=\"Review for DRY, error handling, type coverage, descriptions.\"]\n  build_test [label=\"Build & Test\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Run npm build, test with MCP Inspector.\"]\n\n  // Phase 4: Evaluation\n  create_evals [label=\"Create Evaluations\" type=\"codergen\"\n    prompt=\"Create 10 complex eval questions in XML format.\"]\n\n  // Error handling\n  handle_build_error [label=\"Fix Build Errors\" type=\"codergen\"\n    prompt=\"Analyze build errors, fix issues in source code, retry.\"]\n\n  done [label=\"done\" type=\"exit\"]\n\n  start -> study_mcp_docs\n  study_mcp_docs -> study_framework\n  study_framework -> plan_impl\n  plan_impl -> setup_project\n  setup_project -> impl_infra\n  impl_infra -> impl_tools\n  impl_tools -> code_review\n  code_review -> build_test\n  build_test -> create_evals [label=\"success\"]\n  build_test -> handle_build_error [label=\"failure\"]\n  handle_build_error -> build_test [label=\"retry\" max_iterations=\"3\"]\n  create_evals -> done\n}","id":"mcp_builder","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: mcp-builder\n\n---\nname: mcp-builder\ndescription: Build a Model Context Protocol (MCP) server from scratch, connecting to any API with proper tool schemas.\n---\n\n# MCP Server Builder\n\nBuild an MCP server that exposes tools for interacting with an external API.\n\n## Phase 1: Research\n- Study the MCP specification (transport, tools, resources, prompts)\n- Load the TypeScript or Python SDK documentation based on chosen language\n- Review the target API documentation, identify endpoints, plan the tool list\n\n## Phase 2: Implementation\n- Create project structure (package.json, tsconfig, src/)\n- Build API client with error handling and pagination helpers\n- Implement each MCP tool with Zod schemas, handlers, and annotations\n\n## Phase 3: Review & Test\n- Code review for DRY, error handling, type coverage, descriptions\n- Build and test with MCP Inspector\n\n## Phase 4: Evaluation\n- Create 10 complex evaluation questions in XML format"},"metadata":{"category":"pipeline","complexity":"medium-high","expected_edges":12,"expected_nodes":12,"features":["error_recovery","loop_back","shell_simulate"]}}
{"expected":"digraph doc_coauthoring {\n  start [label=\"start\" type=\"start\"]\n\n  // Stage 1: Context Gathering\n  ask_meta [label=\"Ask Meta Questions\" type=\"llm\"\n    prompt=\"Ask: doc type, audience, desired impact, template, constraints.\"]\n  info_dump [label=\"Process Info Dump\" type=\"llm\"\n    prompt=\"Encourage context dump. Track what's learned and what's unclear.\"]\n  clarify [label=\"Clarifying Questions\" type=\"llm\"\n    prompt=\"Generate 5-10 gap-filling questions based on context so far.\"]\n\n  // Stage 2: Refinement (per-section loop)\n  plan_sections [label=\"Plan Sections\" type=\"llm\"\n    prompt=\"Propose 3-5 sections. Create scaffold with placeholders.\"]\n  brainstorm [label=\"Brainstorm Section\" type=\"llm\"\n    prompt=\"For current section: brainstorm 5-20 items to include.\"]\n  curate [label=\"Curate & Draft\" type=\"llm\"\n    prompt=\"User selects items. Draft section content.\"]\n  refine [label=\"Iterative Refinement\" type=\"llm\"\n    prompt=\"Apply user edits. After 3 iterations with no changes, suggest pruning.\"]\n\n  // Stage 3: Reader Testing\n  full_review [label=\"Full Document Review\" type=\"llm\"\n    prompt=\"Re-read entire document. Check flow, consistency, redundancy.\"]\n  predict_questions [label=\"Predict Reader Questions\" type=\"llm\"\n    prompt=\"Generate 5-10 realistic reader questions.\"]\n  reader_test [label=\"Test with Fresh Agent\" type=\"llm\"\n    prompt=\"Sub-agent reads doc with no context, answers questions.\"]\n  fix_gaps [label=\"Fix Gaps\" type=\"llm\"\n    prompt=\"Fix issues found by reader test. Loop back if needed.\"]\n\n  done [label=\"done\" type=\"exit\"]\n\n  start -> ask_meta\n  ask_meta -> info_dump\n  info_dump -> clarify\n  clarify -> plan_sections\n  plan_sections -> brainstorm\n  brainstorm -> curate\n  curate -> refine\n  refine -> brainstorm [label=\"next_section\" max_iterations=\"10\"]\n  refine -> full_review [label=\"all_sections_done\"]\n  full_review -> predict_questions\n  predict_questions -> reader_test\n  reader_test -> fix_gaps\n  fix_gaps -> reader_test [label=\"issues_found\" max_iterations=\"3\"]\n  fix_gaps -> done [label=\"all_clear\"]\n}","id":"doc_coauthoring","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: doc-coauthoring\n\n---\nname: doc-coauthoring\ndescription: Collaboratively write documents through structured conversation, brainstorming, and iterative refinement.\n---\n\n# Document Co-Authoring\n\nWrite documents collaboratively with the user through a structured 3-stage process.\n\n## Stage 1: Context Gathering\n- Ask meta questions: doc type, audience, desired impact, template preferences, constraints\n- Encourage the user to do an \"info dump\" â€” share everything relevant\n- Generate 5-10 clarifying questions to fill gaps\n\n## Stage 2: Section-by-Section Refinement\n- Plan 3-5 sections with placeholders\n- For each section:\n  - Brainstorm 5-20 items to include\n  - User selects items, curate and draft\n  - Iterative refinement (after 3 no-change iterations, suggest pruning)\n- Loop through all sections\n\n## Stage 3: Reader Testing\n- Review the full document for flow, consistency, redundancy\n- Predict 5-10 realistic reader questions\n- Test with a fresh sub-agent that reads with no context\n- Fix any gaps found, loop back if needed"},"metadata":{"category":"cyclic","complexity":"high","expected_edges":14,"expected_nodes":13,"features":["section_loop","fix_loop","max_iterations","conditional_edges"]}}
{"expected":"digraph webapp_testing {\n  start [label=\"start\" type=\"start\"]\n\n  check_static [label=\"Check If Static\" type=\"llm\"\n    prompt=\"Determine if target is static HTML or dynamic webapp.\"]\n\n  // Static path\n  read_html [label=\"Read HTML\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Read HTML file to identify selectors.\"]\n  write_playwright [label=\"Write Playwright Script\" type=\"codergen\"\n    prompt=\"Write Playwright script using discovered selectors.\"]\n\n  // Dynamic path\n  check_server [label=\"Check Server Status\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Check if server is already running on expected port.\"]\n  start_server [label=\"Start Server\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Use with_server.py to start server with correct ports.\"]\n  recon [label=\"Reconnaissance\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Navigate, wait for networkidle, screenshot, inspect DOM.\"]\n  discover_selectors [label=\"Discover Selectors\" type=\"llm\"\n    prompt=\"Identify selectors from rendered state.\"]\n  execute_actions [label=\"Execute Actions\" type=\"codergen\"\n    prompt=\"Write Playwright actions using discovered selectors.\"]\n\n  // Error handling\n  handle_error [label=\"Report Error\" type=\"llm\"\n    prompt=\"Summarize what failed and suggest manual steps to resolve.\"]\n\n  done [label=\"done\" type=\"exit\"]\n\n  start -> check_static\n  check_static -> read_html [label=\"static\"]\n  check_static -> check_server [label=\"dynamic\"]\n  read_html -> write_playwright [label=\"success\"]\n  read_html -> check_server [label=\"failure\"]\n  write_playwright -> done\n  check_server -> recon [label=\"running\"]\n  check_server -> start_server [label=\"not_running\"]\n  start_server -> recon [label=\"success\"]\n  start_server -> handle_error [label=\"failure\"]\n  recon -> discover_selectors\n  discover_selectors -> execute_actions\n  execute_actions -> done\n  handle_error -> done\n}","id":"webapp_testing","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: webapp-testing\n\n---\nname: webapp-testing\ndescription: Automatically test web applications using Playwright, adapting approach based on whether the app is static or dynamic.\n---\n\n# Web App Testing\n\nTest a web application using Playwright with adaptive strategy.\n\n## Step 1: Determine Type\nCheck if the target is a static HTML file or a dynamic web application.\n\n## Static Path\n- Read the HTML file directly to identify selectors\n- Write Playwright test script using those selectors\n- If reading HTML fails, fall through to the dynamic path\n\n## Dynamic Path\n- Check if the dev server is already running\n- If not running, start it (use with_server.py for correct ports)\n- If server fails to start, report the error and suggest manual steps\n- Do reconnaissance: navigate, wait for networkidle, screenshot, inspect DOM\n- Discover selectors from the rendered page state\n- Write and execute Playwright actions"},"metadata":{"category":"decision_tree","complexity":"medium","expected_edges":14,"expected_nodes":11,"features":["conditional_branching","error_handling","fallthrough","shell_simulate"]}}
{"expected":"digraph seo_audit {\n  start [label=\"start\" type=\"start\"]\n\n  gather_context [label=\"Gather Context\" type=\"llm\"\n    prompt=\"Ask: site type, business goal, priority keywords, known issues, scope.\"]\n\n  // Audit phases (could be parallel or sequential)\n  crawlability [label=\"Crawlability Audit\" type=\"llm\"\n    prompt=\"Check: robots.txt, XML sitemap, site architecture, crawl budget.\"]\n  technical [label=\"Technical SEO\" type=\"llm\"\n    prompt=\"Check: indexation, canonicalization, Core Web Vitals, mobile, HTTPS, URLs.\"]\n  on_page [label=\"On-Page SEO\" type=\"llm\"\n    prompt=\"Check: titles, meta descriptions, headings, content, images, internal links.\"]\n  content [label=\"Content Quality\" type=\"llm\"\n    prompt=\"Assess: E-E-A-T signals, content depth, user engagement.\"]\n  authority [label=\"Authority & Links\" type=\"llm\"\n    prompt=\"Assess: backlink profile, domain authority, citations.\"]\n\n  // Report\n  compile_report [label=\"Compile Audit Report\" type=\"llm\"\n    prompt=\"Write executive summary, findings by category, prioritized action plan.\"]\n\n  done [label=\"done\" type=\"exit\"]\n\n  start -> gather_context\n  gather_context -> crawlability\n  // Could fan-out here: crawlability, technical, on_page, content, authority in parallel\n  crawlability -> technical\n  technical -> on_page\n  on_page -> content\n  content -> authority\n  authority -> compile_report\n  compile_report -> done\n}","id":"seo_audit","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: seo-audit\n\n---\nname: seo-audit\ndescription: Perform a comprehensive SEO audit analyzing crawlability, technical SEO, on-page optimization, content quality, and authority.\n---\n\n# SEO Audit\n\nPerform a comprehensive website SEO audit.\n\n## Context Gathering\nAsk about: site type, business goals, priority keywords, known issues, scope of audit.\n\n## Audit Areas (in priority order)\n1. **Crawlability**: robots.txt, XML sitemap, site architecture, crawl budget\n2. **Technical SEO**: indexation, canonicalization, Core Web Vitals, mobile, HTTPS, URLs\n3. **On-Page SEO**: titles, meta descriptions, headings, content optimization, images, internal links\n4. **Content Quality**: E-E-A-T signals, content depth, user engagement metrics\n5. **Authority & Links**: backlink profile, domain authority, citations\n\n## Report\nCompile findings into an executive summary with prioritized action plan."},"metadata":{"category":"pipeline","complexity":"medium","expected_edges":8,"expected_nodes":9,"features":["sequential_phases","fan_out_potential"]}}
{"expected":"digraph copywriting {\n  start [label=\"start\" type=\"start\"]\n\n  check_context [label=\"Check Marketing Context\" type=\"shell\"\n    simulate=\"true\"\n    prompt=\"Read .claude/product-marketing-context.md if it exists.\"]\n  gather_context [label=\"Gather Context\" type=\"llm\"\n    prompt=\"Ask: page purpose, audience, product/offer, traffic source.\"]\n  establish_voice [label=\"Establish Voice\" type=\"llm\"\n    prompt=\"Determine formality, brand personality, tone consistency rules.\"]\n\n  // Core writing\n  write_above_fold [label=\"Write Above the Fold\" type=\"codergen\"\n    prompt=\"Write headline, subheadline, primary CTA. Provide 2-3 alternatives each.\"]\n  write_sections [label=\"Write Core Sections\" type=\"codergen\"\n    prompt=\"Write: social proof, problem/pain, solution/benefits, how it works, objections, final CTA.\"]\n  write_meta [label=\"Write Meta Content\" type=\"codergen\"\n    prompt=\"Write SEO page title and meta description.\"]\n\n  // Output\n  compile_output [label=\"Compile with Annotations\" type=\"llm\"\n    prompt=\"Compile full page copy with rationale annotations and alternatives.\"]\n\n  done [label=\"done\" type=\"exit\"]\n\n  start -> check_context\n  check_context -> gather_context [label=\"found\"]\n  check_context -> gather_context [label=\"not_found\"]\n  gather_context -> establish_voice\n  establish_voice -> write_above_fold\n  write_above_fold -> write_sections\n  write_sections -> write_meta\n  write_meta -> compile_output\n  compile_output -> done\n}","id":"copywriting","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: copywriting\n\n---\nname: copywriting\ndescription: Write conversion-optimized web copy for landing pages, homepages, and feature pages.\n---\n\n# Copywriting\n\nWrite conversion-optimized web copy.\n\n## Context\n- Check if a product marketing context file exists (.claude/product-marketing-context.md)\n- Gather context: page purpose, target audience, product/offer details, traffic source\n- Establish voice: formality level, brand personality, tone consistency rules\n\n## Writing\n- Write above-the-fold content: headline, subheadline, primary CTA (provide 2-3 alternatives each)\n- Write core sections: social proof, problem/pain, solution/benefits, how it works, objections, final CTA\n- Write meta content: SEO page title and meta description\n\n## Output\n- Compile full page copy with rationale annotations and alternatives"},"metadata":{"category":"pipeline","complexity":"low-medium","expected_edges":9,"expected_nodes":9,"features":["context_check","shell_simulate","sequential"]}}
{"expected":"digraph docker_reference {\n  // Category: reference\n  start [label=\"start\" type=\"start\"]\n  reference [label=\"Docker Reference\" type=\"llm\"\n    prompt=\"Load Docker best practices, security guidelines, compose patterns, and CI/CD recommendations as context for the agent.\"]\n  done [label=\"done\" type=\"exit\"]\n\n  start -> reference\n  reference -> done\n}","id":"docker_reference","input":{"prompt":"Compile this skill to a DOT graph:\n\nSkill name: docker-expert\n\n---\nname: docker-expert\ndescription: Docker and container orchestration expert. Provides best practices for Dockerfiles, compose files, networking, security, and CI/CD integration.\n---\n\n# Docker Expert\n\nYou are a Docker and container orchestration expert.\n\n## Best Practices\n- Use multi-stage builds to minimize image size\n- Pin base image versions (avoid :latest in production)\n- Use .dockerignore to exclude unnecessary files\n- Run containers as non-root users\n- Use health checks for all services\n- Leverage layer caching by ordering Dockerfile instructions\n\n## Security\n- Scan images for vulnerabilities (Trivy, Snyk)\n- Use secrets management (Docker secrets, Vault)\n- Limit container capabilities\n- Use read-only root filesystems where possible\n\n## Compose\n- Use named volumes for persistent data\n- Define proper network isolation\n- Set resource limits (CPU, memory)\n- Use depends_on with health conditions\n\n## CI/CD\n- Build images in CI, push to registry\n- Use build args for dynamic configuration\n- Tag images with git SHA for traceability"},"metadata":{"category":"reference","complexity":"minimal","expected_edges":2,"expected_nodes":3,"features":["single_node","reference_only"]}}
